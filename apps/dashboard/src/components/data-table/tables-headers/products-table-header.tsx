import { Button, buttonVariants } from "@ui/components/ui/button";
import type { FC } from "react";
import { Input } from "@ui/components/ui/input";
import AddProductModel from "../../models/create-product-modal";
import Link from "next/link";
import { cn } from "@ui/lib/utils";

//@ts-ignore
import { download, generateCsv, mkConfig } from "export-to-csv";

interface TableHeaderProps {
  table: any;
  data: any[];
}

const csvConfig = mkConfig({
  fieldSeparator: ",",
  decimalSeparator: ".",
  useKeysAsHeaders: true,
});

const ProductsTableHeader: FC<TableHeaderProps> = ({ table, data }) => {
  const handleExportCSV = (data: any[]) => {
    const csv = generateCsv(csvConfig)(data);
    //@ts-ignore
    download(csvConfig)(csv);
  };

  return (
    <div className="w-full h-[70px] flex items-center justify-between">
      <div className="min-w-[200px] w-fit h-full flex  items-center justify-start gap-x-4">
        <Button
          disabled
          variant="secondary"
          className="bg-white rounded-xl border flex items-center gap-x-2"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.93189 2.57251C10.8467 2.57251 12.7232 2.73376 14.5497 3.04373C14.9201 3.10628 15.187 3.43016 15.187 3.80547V4.53106C15.187 4.73642 15.1466 4.93977 15.068 5.1295C14.9894 5.31923 14.8742 5.49162 14.729 5.63683L10.9537 9.41215C10.8085 9.55736 10.6933 9.72975 10.6147 9.91948C10.5361 10.1092 10.4957 10.3126 10.4957 10.5179V12.5522C10.4957 12.8427 10.4149 13.1275 10.2621 13.3746C10.1094 13.6217 9.89091 13.8214 9.63107 13.9513L7.3681 15.0828V10.5179C7.36811 10.3126 7.32766 10.1092 7.24907 9.91948C7.17049 9.72975 7.0553 9.55736 6.91009 9.41215L3.13477 5.63683C2.98956 5.49162 2.87438 5.31923 2.79579 5.1295C2.7172 4.93977 2.67676 4.73642 2.67676 4.53106V3.80547C2.67676 3.43016 2.94364 3.10628 3.31409 3.04373C5.17017 2.72948 7.04939 2.57185 8.93189 2.57251Z"
              stroke="black"
              stroke-width="1.04252"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          تصفية
        </Button>
      </div>
      <div className="min-w-[200px] w-fit h-full flex items-center justify-end gap-x-4">
        <Button
          onClick={() => handleExportCSV(data)}
          variant="secondary"
          className="bg-white rounded-xl border flex items-center gap-x-2"
        >
          <svg
            width="21"
            height="22"
            viewBox="0 0 21 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <mask id="path-1-inside-1_119_3304" fill="white">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M10.4505 2.41724C10.6221 2.41724 10.7866 2.4854 10.908 2.60673C11.0293 2.72805 11.0974 2.89261 11.0974 3.06419V13.1481L13.875 10.3705C13.9343 10.3069 14.0057 10.256 14.0851 10.2206C14.1644 10.1852 14.2501 10.1662 14.337 10.1647C14.4238 10.1632 14.5101 10.1791 14.5907 10.2117C14.6712 10.2442 14.7444 10.2926 14.8058 10.3541C14.8673 10.4155 14.9157 10.4887 14.9482 10.5692C14.9808 10.6498 14.9968 10.7361 14.9952 10.823C14.9937 10.9098 14.9747 10.9955 14.9393 11.0749C14.904 11.1542 14.853 11.2256 14.7894 11.2849L10.9077 15.1666C10.7864 15.2878 10.6219 15.3558 10.4505 15.3558C10.279 15.3558 10.1146 15.2878 9.9933 15.1666L6.11156 11.2849C6.048 11.2256 5.99701 11.1542 5.96165 11.0749C5.92629 10.9955 5.90728 10.9098 5.90575 10.823C5.90421 10.7361 5.92019 10.6498 5.95273 10.5692C5.98527 10.4887 6.0337 10.4155 6.09514 10.3541C6.15657 10.2926 6.22975 10.2442 6.31031 10.2117C6.39086 10.1791 6.47715 10.1632 6.56402 10.1647C6.65088 10.1662 6.73655 10.1852 6.81591 10.2206C6.89527 10.256 6.9667 10.3069 7.02592 10.3705L9.80353 13.1481V3.06419C9.80353 2.89261 9.87169 2.72805 9.99302 2.60673C10.1143 2.4854 10.2789 2.41724 10.4505 2.41724ZM2.687 14.0625C2.85858 14.0625 3.02314 14.1306 3.14446 14.252C3.26579 14.3733 3.33395 14.5378 3.33395 14.7094V16.6503C3.33395 16.9935 3.47028 17.3226 3.71293 17.5652C3.95559 17.8079 4.2847 17.9442 4.62787 17.9442H16.2731C16.6163 17.9442 16.9454 17.8079 17.188 17.5652C17.4307 17.3226 17.567 16.9935 17.567 16.6503V14.7094C17.567 14.5378 17.6352 14.3733 17.7565 14.252C17.8778 14.1306 18.0424 14.0625 18.214 14.0625C18.3856 14.0625 18.5501 14.1306 18.6714 14.252C18.7928 14.3733 18.8609 14.5378 18.8609 14.7094V16.6503C18.8609 17.3366 18.5883 17.9949 18.103 18.4802C17.6177 18.9655 16.9594 19.2381 16.2731 19.2381H4.62787C3.94153 19.2381 3.28331 18.9655 2.798 18.4802C2.31268 17.9949 2.04004 17.3366 2.04004 16.6503V14.7094C2.04004 14.5378 2.1082 14.3733 2.22953 14.252C2.35086 14.1306 2.51541 14.0625 2.687 14.0625Z"
              />
            </mask>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M10.4505 2.41724C10.6221 2.41724 10.7866 2.4854 10.908 2.60673C11.0293 2.72805 11.0974 2.89261 11.0974 3.06419V13.1481L13.875 10.3705C13.9343 10.3069 14.0057 10.256 14.0851 10.2206C14.1644 10.1852 14.2501 10.1662 14.337 10.1647C14.4238 10.1632 14.5101 10.1791 14.5907 10.2117C14.6712 10.2442 14.7444 10.2926 14.8058 10.3541C14.8673 10.4155 14.9157 10.4887 14.9482 10.5692C14.9808 10.6498 14.9968 10.7361 14.9952 10.823C14.9937 10.9098 14.9747 10.9955 14.9393 11.0749C14.904 11.1542 14.853 11.2256 14.7894 11.2849L10.9077 15.1666C10.7864 15.2878 10.6219 15.3558 10.4505 15.3558C10.279 15.3558 10.1146 15.2878 9.9933 15.1666L6.11156 11.2849C6.048 11.2256 5.99701 11.1542 5.96165 11.0749C5.92629 10.9955 5.90728 10.9098 5.90575 10.823C5.90421 10.7361 5.92019 10.6498 5.95273 10.5692C5.98527 10.4887 6.0337 10.4155 6.09514 10.3541C6.15657 10.2926 6.22975 10.2442 6.31031 10.2117C6.39086 10.1791 6.47715 10.1632 6.56402 10.1647C6.65088 10.1662 6.73655 10.1852 6.81591 10.2206C6.89527 10.256 6.9667 10.3069 7.02592 10.3705L9.80353 13.1481V3.06419C9.80353 2.89261 9.87169 2.72805 9.99302 2.60673C10.1143 2.4854 10.2789 2.41724 10.4505 2.41724ZM2.687 14.0625C2.85858 14.0625 3.02314 14.1306 3.14446 14.252C3.26579 14.3733 3.33395 14.5378 3.33395 14.7094V16.6503C3.33395 16.9935 3.47028 17.3226 3.71293 17.5652C3.95559 17.8079 4.2847 17.9442 4.62787 17.9442H16.2731C16.6163 17.9442 16.9454 17.8079 17.188 17.5652C17.4307 17.3226 17.567 16.9935 17.567 16.6503V14.7094C17.567 14.5378 17.6352 14.3733 17.7565 14.252C17.8778 14.1306 18.0424 14.0625 18.214 14.0625C18.3856 14.0625 18.5501 14.1306 18.6714 14.252C18.7928 14.3733 18.8609 14.5378 18.8609 14.7094V16.6503C18.8609 17.3366 18.5883 17.9949 18.103 18.4802C17.6177 18.9655 16.9594 19.2381 16.2731 19.2381H4.62787C3.94153 19.2381 3.28331 18.9655 2.798 18.4802C2.31268 17.9949 2.04004 17.3366 2.04004 16.6503V14.7094C2.04004 14.5378 2.1082 14.3733 2.22953 14.252C2.35086 14.1306 2.51541 14.0625 2.687 14.0625Z"
              fill="black"
            />
            <path
              d="M10.4505 2.41724V0.417236V2.41724ZM11.0974 13.1481H9.09744V17.9765L12.5117 14.5623L11.0974 13.1481ZM13.875 10.3705L15.2893 11.7847L15.3142 11.7598L15.3383 11.7339L13.875 10.3705ZM14.7894 11.2849L13.426 9.82165L13.4002 9.8457L13.3752 9.87065L14.7894 11.2849ZM10.9077 15.1666L12.321 16.5817L12.3219 16.5808L10.9077 15.1666ZM9.9933 15.1666L8.57909 16.5808L8.57997 16.5817L9.9933 15.1666ZM6.11156 11.2849L7.52577 9.87065L7.50082 9.8457L7.475 9.82165L6.11156 11.2849ZM7.02592 10.3705L5.5627 11.7339L5.58676 11.7598L5.61171 11.7847L7.02592 10.3705ZM9.80353 13.1481L8.38932 14.5623L11.8035 17.9765V13.1481H9.80353ZM9.80353 3.06419H11.8035H9.80353ZM9.99302 2.60673L11.4072 4.02094L9.99302 2.60673ZM18.8609 16.6503H20.8609H18.8609ZM16.2731 19.2381V21.2381V19.2381ZM4.62787 19.2381V21.2381V19.2381ZM2.04004 16.6503H0.0400391H2.04004ZM10.4505 4.41724C10.0916 4.41724 9.74749 4.27468 9.49374 4.02094L12.3222 1.19251C11.8258 0.696112 11.1525 0.417236 10.4505 0.417236V4.41724ZM9.49374 4.02094C9.24 3.7672 9.09744 3.42305 9.09744 3.06419H13.0974C13.0974 2.36217 12.8186 1.68891 12.3222 1.19251L9.49374 4.02094ZM9.09744 3.06419V13.1481H13.0974V3.06419H9.09744ZM12.5117 14.5623L15.2893 11.7847L12.4608 8.95629L9.68323 11.7339L12.5117 14.5623ZM15.3383 11.7339C15.2144 11.8669 15.065 11.9735 14.8991 12.0475L13.2711 8.39373C12.9464 8.53841 12.6541 8.74701 12.4118 9.00706L15.3383 11.7339ZM14.8991 12.0475C14.7331 12.1214 14.5539 12.1612 14.3722 12.1644L14.3017 8.165C13.9463 8.17127 13.5958 8.24906 13.2711 8.39373L14.8991 12.0475ZM14.3722 12.1644C14.1906 12.1676 14.0101 12.1342 13.8416 12.0661L15.3397 8.35724C15.0101 8.22411 14.6571 8.15873 14.3017 8.165L14.3722 12.1644ZM13.8416 12.0661C13.6731 11.9981 13.5201 11.8968 13.3916 11.7683L16.2201 8.93987C15.9687 8.68852 15.6693 8.49037 15.3397 8.35724L13.8416 12.0661ZM13.3916 11.7683C13.2631 11.6398 13.1619 11.4868 13.0938 11.3183L16.8027 9.82021C16.6695 9.49061 16.4714 9.19121 16.2201 8.93987L13.3916 11.7683ZM13.0938 11.3183C13.0257 11.1498 12.9923 10.9693 12.9955 10.7877L16.9949 10.8582C17.0012 10.5028 16.9358 10.1498 16.8027 9.82021L13.0938 11.3183ZM12.9955 10.7877C12.9987 10.606 13.0385 10.4268 13.1125 10.2609L16.7662 11.8888C16.9109 11.5641 16.9886 11.2136 16.9949 10.8582L12.9955 10.7877ZM13.1125 10.2609C13.1864 10.0949 13.293 9.94552 13.426 9.82165L16.1529 12.7481C16.4129 12.5058 16.6215 12.2135 16.7662 11.8888L13.1125 10.2609ZM13.3752 9.87065L9.49346 13.7524L12.3219 16.5808L16.2036 12.6991L13.3752 9.87065ZM9.49434 13.7515C9.74804 13.4981 10.0919 13.3558 10.4505 13.3558V17.3558C11.1519 17.3558 11.8247 17.0774 12.321 16.5817L9.49434 13.7515ZM10.4505 13.3558C10.809 13.3558 11.1529 13.4981 11.4066 13.7515L8.57997 16.5817C9.07628 17.0774 9.74904 17.3558 10.4505 17.3558V13.3558ZM11.4075 13.7524L7.52577 9.87065L4.69734 12.6991L8.57909 16.5808L11.4075 13.7524ZM7.475 9.82165C7.60794 9.94551 7.71456 10.0949 7.78851 10.2609L4.13479 11.8888C4.27946 12.2135 4.48805 12.5058 4.74811 12.7481L7.475 9.82165ZM7.78851 10.2609C7.86247 10.4268 7.90223 10.606 7.90544 10.7877L3.90606 10.8582C3.91233 11.2136 3.99012 11.5641 4.13479 11.8888L7.78851 10.2609ZM7.90544 10.7877C7.90864 10.9693 7.87522 11.1498 7.80717 11.3183L4.09829 9.82021C3.96517 10.1498 3.89979 10.5028 3.90606 10.8582L7.90544 10.7877ZM7.80717 11.3183C7.73912 11.4868 7.63783 11.6398 7.50935 11.7683L4.68092 8.93987C4.42957 9.19121 4.23142 9.49061 4.09829 9.82021L7.80717 11.3183ZM7.50935 11.7683C7.38087 11.8968 7.22783 11.9981 7.05934 12.0661L5.56127 8.35724C5.23167 8.49037 4.93227 8.68852 4.68092 8.93987L7.50935 11.7683ZM7.05934 12.0661C6.89087 12.1342 6.71041 12.1676 6.52873 12.1644L6.5993 8.165C6.24389 8.15873 5.89086 8.22411 5.56127 8.35724L7.05934 12.0661ZM6.52873 12.1644C6.34706 12.1612 6.16789 12.1214 6.00192 12.0475L7.6299 8.39373C7.30521 8.24906 6.95471 8.17127 6.5993 8.165L6.52873 12.1644ZM6.00192 12.0475C5.83594 11.9735 5.68657 11.8669 5.5627 11.7339L8.48915 9.00706C8.24682 8.747 7.9546 8.53841 7.6299 8.39373L6.00192 12.0475ZM5.61171 11.7847L8.38932 14.5623L11.2177 11.7339L8.44014 8.95629L5.61171 11.7847ZM11.8035 13.1481V3.06419H7.80353V13.1481H11.8035ZM11.8035 3.06419C11.8035 3.42305 11.661 3.7672 11.4072 4.02094L8.57881 1.19251C8.08241 1.68891 7.80353 2.36217 7.80353 3.06419H11.8035ZM11.4072 4.02094C11.1535 4.27468 10.8093 4.41724 10.4505 4.41724V0.417236C9.74847 0.417236 9.07521 0.696112 8.57881 1.19251L11.4072 4.02094ZM2.687 16.0625C2.32815 16.0625 1.98399 15.9199 1.73025 15.6662L4.55868 12.8377C4.06228 12.3413 3.38902 12.0625 2.687 12.0625V16.0625ZM1.73025 15.6662C1.47651 15.4124 1.33395 15.0683 1.33395 14.7094H5.33395C5.33395 14.0074 5.05508 13.3341 4.55868 12.8377L1.73025 15.6662ZM1.33395 14.7094V16.6503H5.33395V14.7094H1.33395ZM1.33395 16.6503C1.33395 17.5239 1.68099 18.3617 2.29872 18.9795L5.12715 16.151C5.25956 16.2834 5.33395 16.463 5.33395 16.6503H1.33395ZM2.29872 18.9795C2.91645 19.5972 3.75427 19.9442 4.62787 19.9442V15.9442C4.81514 15.9442 4.99473 16.0186 5.12715 16.151L2.29872 18.9795ZM4.62787 19.9442H16.2731V15.9442H4.62787V19.9442ZM16.2731 19.9442C17.1467 19.9442 17.9845 19.5972 18.6023 18.9795L15.7738 16.151C15.9062 16.0186 16.0858 15.9442 16.2731 15.9442V19.9442ZM18.6023 18.9795C19.22 18.3617 19.567 17.5239 19.567 16.6503H15.567C15.567 16.463 15.6414 16.2834 15.7738 16.151L18.6023 18.9795ZM19.567 16.6503V14.7094H15.567V16.6503H19.567ZM19.567 14.7094C19.567 15.0683 19.4245 15.4124 19.1707 15.6662L16.3423 12.8377C15.8459 13.3342 15.567 14.0074 15.567 14.7094H19.567ZM19.1707 15.6662C18.917 15.9199 18.5728 16.0625 18.214 16.0625V12.0625C17.512 12.0625 16.8387 12.3413 16.3423 12.8377L19.1707 15.6662ZM18.214 16.0625C17.8551 16.0625 17.511 15.9199 17.2572 15.6662L20.0857 12.8377C19.5893 12.3413 18.916 12.0625 18.214 12.0625V16.0625ZM17.2572 15.6662C17.0035 15.4124 16.8609 15.0683 16.8609 14.7094H20.8609C20.8609 14.0074 20.5821 13.3342 20.0857 12.8377L17.2572 15.6662ZM16.8609 14.7094V16.6503H20.8609V14.7094H16.8609ZM16.8609 16.6503C16.8609 16.8062 16.799 16.9557 16.6888 17.066L19.5172 19.8944C20.3776 19.034 20.8609 17.8671 20.8609 16.6503H16.8609ZM16.6888 17.066C16.5785 17.1762 16.429 17.2381 16.2731 17.2381V21.2381C17.4899 21.2381 18.6568 20.7548 19.5172 19.8944L16.6888 17.066ZM16.2731 17.2381H4.62787V21.2381H16.2731V17.2381ZM4.62787 17.2381C4.47197 17.2381 4.32245 17.1762 4.21221 17.066L1.38378 19.8944C2.24417 20.7548 3.4111 21.2381 4.62787 21.2381V17.2381ZM4.21221 17.066C4.10197 16.9557 4.04004 16.8062 4.04004 16.6503H0.0400391C0.0400391 17.8671 0.523398 19.034 1.38378 19.8944L4.21221 17.066ZM4.04004 16.6503V14.7094H0.0400391V16.6503H4.04004ZM4.04004 14.7094C4.04004 15.0683 3.89749 15.4124 3.64374 15.6662L0.815315 12.8377C0.318914 13.3341 0.0400391 14.0074 0.0400391 14.7094H4.04004ZM3.64374 15.6662C3.39 15.9199 3.04585 16.0625 2.687 16.0625V12.0625C1.98498 12.0625 1.31171 12.3413 0.815315 12.8377L3.64374 15.6662Z"
              fill="black"
              mask="url(#path-1-inside-1_119_3304)"
            />
          </svg>
          تصدير البيانات
        </Button>

        <AddProductModel />
        <Link
          href={`/`}
          className={cn(
            buttonVariants({ variant: "ghost" }),
            "bg-white rounded-xl border flex items-center gap-x-2"
          )}
        >
          معاينة كطالب
          <svg
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.35775 8.71467C1.31174 8.57639 1.31174 8.42694 1.35775 8.28867C2.28241 5.50667 4.90708 3.5 8.00041 3.5C11.0924 3.5 13.7157 5.50467 14.6424 8.28533C14.6891 8.42333 14.6891 8.57267 14.6424 8.71133C13.7184 11.4933 11.0937 13.5 8.00041 13.5C4.90841 13.5 2.28441 11.4953 1.35775 8.71467Z"
              stroke="black"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M10 8.5C10 9.03043 9.78929 9.53914 9.41421 9.91421C9.03914 10.2893 8.53043 10.5 8 10.5C7.46957 10.5 6.96086 10.2893 6.58579 9.91421C6.21071 9.53914 6 9.03043 6 8.5C6 7.96957 6.21071 7.46086 6.58579 7.08579C6.96086 6.71071 7.46957 6.5 8 6.5C8.53043 6.5 9.03914 6.71071 9.41421 7.08579C9.78929 7.46086 10 7.96957 10 8.5Z"
              stroke="black"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </Link>
      </div>
    </div>
  );
};

export default ProductsTableHeader;
